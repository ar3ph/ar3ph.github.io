<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://ar3ph.github.io/images/favicon.png" />
<title>Debloating Python Setup | ar3ph Blog</title>
<meta name="title" content="Debloating Python Setup" />
<meta name="description" content="If you have lots of Python projects to manage, in addition to your python-based utilities like httpie and jupyter, chances are you have lots of virtualenvs and let them take up space everywhere. Virtualenvs are not as notorious as node_modules, but they are pretty close.
On the other hand, you might use pyenv to manage your Python versions. Pyenv compiles Python for every installation, which is an annoyance, and it takes pyenv a really long time to compile and install Python on slow machines." />
<meta name="keywords" content="linux,python," />


<meta property="og:url" content="https://ar3ph.github.io/debloating-python-setup/">
  <meta property="og:site_name" content="ar3ph Blog">
  <meta property="og:title" content="Debloating Python Setup">
  <meta property="og:description" content="If you have lots of Python projects to manage, in addition to your python-based utilities like httpie and jupyter, chances are you have lots of virtualenvs and let them take up space everywhere. Virtualenvs are not as notorious as node_modules, but they are pretty close.
On the other hand, you might use pyenv to manage your Python versions. Pyenv compiles Python for every installation, which is an annoyance, and it takes pyenv a really long time to compile and install Python on slow machines.">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2025-09-12T21:45:15+00:00">
    <meta property="article:modified_time" content="2025-09-12T21:45:15+00:00">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="Python">
    <meta property="og:image" content="https://ar3ph.github.io/images/share.png">




  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://ar3ph.github.io/images/share.png">
  <meta name="twitter:title" content="Debloating Python Setup">
  <meta name="twitter:description" content="If you have lots of Python projects to manage, in addition to your python-based utilities like httpie and jupyter, chances are you have lots of virtualenvs and let them take up space everywhere. Virtualenvs are not as notorious as node_modules, but they are pretty close.
On the other hand, you might use pyenv to manage your Python versions. Pyenv compiles Python for every installation, which is an annoyance, and it takes pyenv a really long time to compile and install Python on slow machines.">




  <meta itemprop="name" content="Debloating Python Setup">
  <meta itemprop="description" content="If you have lots of Python projects to manage, in addition to your python-based utilities like httpie and jupyter, chances are you have lots of virtualenvs and let them take up space everywhere. Virtualenvs are not as notorious as node_modules, but they are pretty close.
On the other hand, you might use pyenv to manage your Python versions. Pyenv compiles Python for every installation, which is an annoyance, and it takes pyenv a really long time to compile and install Python on slow machines.">
  <meta itemprop="datePublished" content="2025-09-12T21:45:15+00:00">
  <meta itemprop="dateModified" content="2025-09-12T21:45:15+00:00">
  <meta itemprop="wordCount" content="465">
  <meta itemprop="image" content="https://ar3ph.github.io/images/share.png">
  <meta itemprop="keywords" content="Linux,Python">
<meta name="referrer" content="no-referrer-when-downgrade" />

  <style>
  :root {
    --width: 720px;
    --font-main: Verdana, sans-serif;
    --font-secondary: Verdana, sans-serif;
    --font-scale: 1em;
    --background-color: #fff;
    --heading-color: #222;
    --text-color: #444;
    --link-color: #3273dc;
    --visited-color: #8b6fcb;
    --blockquote-color: #222;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --background-color: #01242e;
      --heading-color: #eee;
      --text-color: #ddd;
      --link-color: #8cc2dd;
      --visited-color: #8b6fcb;
      --blockquote-color: #ccc;
    }
  }

  body {
    font-family: var(--font-secondary);
    font-size: var(--font-scale);
    margin: auto;
    padding: 20px;
    max-width: var(--width);
    text-align: left;
    background-color: var(--background-color);
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.5;
    color: var(--text-color);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-main);
    color: var(--heading-color);
  }

  a {
    color: var(--link-color);
    cursor: pointer;
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  nav a {
    margin-right: 8px;
  }

  strong,
  b {
    color: var(--heading-color);
  }

  button {
    margin: 0;
    cursor: pointer;
  }

  time {
    font-family: monospace;
    font-style: normal;
    font-size: 15px;
  }

  main {
    line-height: 1.6;
  }

  table {
    width: 100%;
  }

  hr {
    border: 0;
    border-top: 1px dashed;
  }

  img {
    max-width: 100%;
  }

  code {
    font-family: monospace;
    padding: 2px;
    border-radius: 3px;
  }

  blockquote {
    border-left: 1px solid #999;
    color: var(--blockquote-color);
    padding-left: 20px;
    font-style: italic;
  }

  footer {
    padding: 25px 0;
    text-align: center;
  }

  .title:hover {
    text-decoration: none;
  }

  .title h1 {
    font-size: 1.5em;
  }

  .inline {
    width: auto !important;
  }

  .highlight,
  .code {
    border-radius: 3px;
    margin-block-start: 1em;
    margin-block-end: 1em;
    overflow-x: auto;
  }

   
  ul.blog-posts {
    list-style-type: none;
    padding: unset;
  }

  ul.blog-posts li {
    display: flex;
  }

  ul.blog-posts li span {
    flex: 0 0 130px;
  }

  ul.blog-posts li a:visited {
    color: var(--visited-color);
  }

</style>
<style>

    body {
        font-size: 1.2em;
    }
    #footer {
        border-top: 1px dotted;
    }
    
    .copyright-owner {
        font-family: serif;
    }

</style>
</head>

<body>
  <header><a href="/" class="title">
  <h2>ar3ph Blog</h2>
</a>
<nav>
<a href="/">Home</a>

<a href="/blog/">Blog</a>

<a href="https://github.com/ar3ph">GitHub</a>

</nav>
</header>
  <main>

<h1>Debloating Python Setup</h1>
<p>
  <i>
    <time datetime='2025-09-12'>
      12 Sep, 2025
    </time>
  </i>
</p>

<content>
  <p>If you have lots of Python projects to manage, in addition to your python-based utilities like <a href="https://httpie.io/"><code>httpie</code></a> and <a href="https://jupyter.org/"><code>jupyter</code></a>, chances are you have lots of virtualenvs and let them take up space everywhere. Virtualenvs are not as notorious as <code>node_modules</code>, but they are pretty close.</p>
<p>On the other hand, you might use <code>pyenv</code> to manage your Python versions. <code>Pyenv</code> compiles Python for every installation, which is an annoyance, and it takes <code>pyenv</code> a really long time to compile and install Python on slow machines.</p>
<p>How do you solve these problems? One year ago I&rsquo;d probably recommend you to try <a href="https://rye.astral.sh/">rye</a>, download precompiled Python on your own, or just get a better computer. Nowadays I&rsquo;ll just say one word: <a href="https://docs.astral.sh/uv/"><code>uv</code></a>.</p>
<p><code>uv</code> can download <a href="https://github.com/astral-sh/python-build-standalone">prebuilt Pythons from GitHub</a>, and use <a href="https://docs.astral.sh/uv/reference/settings/#link-mode">hardlinks</a> for package management to make packages use less disk space. You can follow the <a href="https://docs.astral.sh/uv/#installation">official guide</a> to install <code>uv</code>. Here are a few examples of using <code>uv</code>:</p>
<h2 id="use-or-install-utils">Use or Install Utils</h2>
<p>If you have installed <code>uv</code>, you will have an extra utility <code>uvx</code>. <code>Uvx</code> runs the latest version of a package, like below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uvx ruff <span style="color:#60a0b0;font-style:italic"># runs the latest version of ruff</span>
</span></span></code></pre></div><p>Of course, you can pass command line arguments to the package:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uvx ruff format
</span></span></code></pre></div><p>And to install ruff to <code>$HOME/.local/bin</code> (which should be in your <code>$PATH</code>, so you can directly run the <code>ruff</code> executable file in your shell), use the following command:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv tool install ruff
</span></span></code></pre></div><h2 id="as-a-drop-in-replacement-for-pip">As a drop-in replacement for pip</h2>
<p>Now relax, because <code>uv</code> has great backward compatibility. <code>uv</code> can do almost everything pip does. Instead of invoking <code>pip</code>, now you use <code>uv pip</code> to do <code>pip</code> things. Most <a href="https://github.com/jazzband/pip-tools"><code>pip-tools</code></a> features are also supported, such as <code>pip-compile</code> (as <code>uv pip compile</code>) and <code>pip-sync</code> (as <code>uv pip sync</code>).</p>
<p>To install dependencies from <code>requirements.txt</code>, run</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv pip install -r requirements.txt
</span></span></code></pre></div><p>, to generate <code>requirements.txt</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv pip freeze &gt; requirements.txt
</span></span></code></pre></div><p>and to compile dependencies from <code>requirements.in</code> (a <code>pip-tools</code> feature):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv pip compile requirements.in -o requirements.txt
</span></span></code></pre></div><h2 id="start-a-new-project-with-uv">Start a new project with <code>uv</code></h2>
<p><code>uv</code> can manage projects, too. You can create a python package with the following command:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv init your_package
</span></span></code></pre></div><p>And you should create a virtual package instead if you don&rsquo;t expect to install your project with <code>pip install</code> or <code>uv add</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv init --virtual your_project
</span></span></code></pre></div><p>When you use <code>uv</code> to manage your project, you are able to switch python verions:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv python pin 3.13
</span></span></code></pre></div><p>, add dependencies more robustly than <code>pip install</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv add numpy
</span></span></code></pre></div><p>, create virtualenv with hardlinks:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv venv
</span></span></code></pre></div><p>and run anything with virutalenv enabled:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv run manage.py migrate
</span></span></code></pre></div><p>To add a dependency used for development:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv add --dev django-extensions
</span></span></code></pre></div><p>After others clone your project, they should run the following to reinstall dependencies to their environment:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv sync
</span></span></code></pre></div><p>, and use the following to ignore development dependencies while installing:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>uv sync --no-dev
</span></span></code></pre></div>
</content>



<p>
  
  <a href="https://ar3ph.github.io/blog/linux/">#Linux</a>
  
  <a href="https://ar3ph.github.io/blog/python/">#Python</a>
  
</p>

  </main>
  <footer>
</footer>

  <div id="footer">
<p>Copyright 2026 <span class="copyright-owner">ar3ph</span></p>

</div>
</body>

</html>
